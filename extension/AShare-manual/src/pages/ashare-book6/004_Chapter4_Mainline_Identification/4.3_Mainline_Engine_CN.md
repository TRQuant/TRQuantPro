---
title: "4.3 ä¸»çº¿è¯†åˆ«å¼•æ“"
description: "è¯¦ç»†ä»‹ç»æŠ•èµ„ä¸»çº¿è¯†åˆ«æ¨¡å—çš„ä¸»çº¿è¯†åˆ«å¼•æ“ï¼ŒåŒ…æ‹¬ä¸‰å±‚åˆ†ææ¡†æ¶ã€ä¸»çº¿å‘ç°æµç¨‹å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†"
lang: "zh-CN"
layout: "/src/layouts/HandbookLayout.astro"
currentBook: "ashare-book6"
updateDate: "2025-12-12"
---

# ğŸ—ï¸ 4.3 ä¸»çº¿è¯†åˆ«å¼•æ“

> **æ ¸å¿ƒæ‘˜è¦ï¼š**
> 
> æœ¬èŠ‚ç³»ç»Ÿä»‹ç»æŠ•èµ„ä¸»çº¿è¯†åˆ«æ¨¡å—çš„ä¸»çº¿è¯†åˆ«å¼•æ“ï¼Œé€šè¿‡ä¸‰å±‚åˆ†ææ¡†æ¶ï¼ˆå®è§‚å‰ç»â†’ä¸­è§‚éªŒè¯â†’å¾®è§‚ç¡®è®¤ï¼‰å‘ç°å’Œè¯†åˆ«æŠ•èµ„ä¸»çº¿ã€‚é€šè¿‡ç†è§£ä¸»çº¿å‘ç°æµç¨‹ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œä¸»çº¿ç±»å‹åˆ†ç±»ï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡å¦‚ä½•æ„å»ºæ™ºèƒ½åŒ–çš„æŠ•èµ„ä¸»çº¿è¯†åˆ«ç³»ç»Ÿã€‚ä¸»çº¿è¯†åˆ«å¼•æ“ä¸ä»…è¯†åˆ«å½“ä¸‹çƒ­ç‚¹ï¼Œæ›´å…·å¤‡å‰ç»æ€§ï¼Œé€šè¿‡æ”¿ç­–+èµ„é‡‘+äº§ä¸šå¤šç»´åº¦ç»¼åˆåˆ¤æ–­ï¼Œç¡®ä¿ä¸»çº¿çš„å‰ç»æ€§å’Œå¯é æ€§ã€‚

ä¸»çº¿è¯†åˆ«å¼•æ“æ˜¯æŠ•èµ„ä¸»çº¿è¯†åˆ«æ¨¡å—çš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£é€šè¿‡ä¸‰å±‚åˆ†ææ¡†æ¶å‘ç°å’Œè¯†åˆ«æŠ•èµ„ä¸»çº¿ã€‚

## ğŸ“‹ ç« èŠ‚æ¦‚è§ˆ

<script>
function scrollToSection(sectionId) {
  const element = document.getElementById(sectionId);
  if (element) {
    const headerOffset = 100;
    const elementPosition = element.getBoundingClientRect().top;
    const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
    window.scrollTo({
      top: offsetPosition,
      behavior: 'smooth'
    });
  }
}
</script>

<div class="section-overview">
  <div class="section-item" onclick="scrollToSection('section-4-3-1')">
    <h4>ğŸŒ 4.3.1 å®è§‚å‰ç»åˆ†æ</h4>
    <p>æ”¿ç­–å‘¨æœŸåˆ†æã€ç»æµå‘¨æœŸåˆ†æã€äº§ä¸šè¶‹åŠ¿åˆ†æï¼ˆ6-12ä¸ªæœˆè§†è§’ï¼‰</p>
  </div>
  <div class="section-item" onclick="scrollToSection('section-4-3-2')">
    <h4>ğŸ” 4.3.2 ä¸­è§‚éªŒè¯åˆ†æ</h4>
    <p>è¡Œä¸šæ™¯æ°”åº¦åˆ†æã€æœºæ„èµ„é‡‘æµå‘åˆ†æã€å‚¬åŒ–å‰‚æ—¥å†ï¼ˆ1-3ä¸ªæœˆè§†è§’ï¼‰</p>
  </div>
  <div class="section-item" onclick="scrollToSection('section-4-3-3')">
    <h4>ğŸ“Š 4.3.3 å¾®è§‚ç¡®è®¤åˆ†æ</h4>
    <p>æŠ€æœ¯å½¢æ€åˆ†æã€é¾™å¤´è‚¡è¡¨ç°åˆ†æã€å¸‚åœºæƒ…ç»ªåˆ†æï¼ˆ1-4å‘¨è§†è§’ï¼‰</p>
  </div>
  <div class="section-item" onclick="scrollToSection('section-4-3-4')">
    <h4>ğŸ”„ 4.3.4 ä¸»çº¿å‘ç°æµç¨‹</h4>
    <p>ä»å®è§‚åˆ†æåˆ°ä¸»çº¿ç”Ÿæˆçš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬åˆ†æã€éªŒè¯ã€ç”Ÿæˆã€è¿‡æ»¤ã€æ’åº</p>
  </div>
  <div class="section-item" onclick="scrollToSection('section-4-3-5')">
    <h4>ğŸ“ˆ 4.3.5 ç”Ÿå‘½å‘¨æœŸç®¡ç†</h4>
    <p>ä¸»çº¿ç”Ÿå‘½å‘¨æœŸçš„å››ä¸ªé˜¶æ®µï¼ˆå¯åŠ¨æœŸã€æˆé•¿æœŸã€æˆç†ŸæœŸã€è¡°é€€æœŸï¼‰å’Œç®¡ç†æ–¹æ³•</p>
  </div>
  <div class="section-item" onclick="scrollToSection('section-4-3-6')">
    <h4>ğŸ·ï¸ 4.3.6 ä¸»çº¿ç±»å‹åˆ†ç±»</h4>
    <p>æ”¿ç­–é©±åŠ¨å‹ã€äº§ä¸šè¶‹åŠ¿å‹ã€äº‹ä»¶é©±åŠ¨å‹ã€å‘¨æœŸè½®åŠ¨å‹ã€ä¸»é¢˜æ¦‚å¿µå‹</p>
  </div>
</div>

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡æœ¬èŠ‚å­¦ä¹ ï¼Œæ‚¨å°†èƒ½å¤Ÿï¼š

- **ç†è§£ä¸‰å±‚åˆ†ææ¡†æ¶**ï¼šæŒæ¡å®è§‚å‰ç»ã€ä¸­è§‚éªŒè¯ã€å¾®è§‚ç¡®è®¤çš„åˆ†ææ–¹æ³•å’Œå®ç°ç»†èŠ‚
- **æŒæ¡ä¸»çº¿å‘ç°æµç¨‹**ï¼šç†è§£ä»å®è§‚åˆ†æåˆ°ä¸»çº¿ç”Ÿæˆçš„å®Œæ•´æµç¨‹å’Œä»£ç å®ç°
- **ç†Ÿæ‚‰ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šç†è§£ä¸»çº¿ç”Ÿå‘½å‘¨æœŸçš„å››ä¸ªé˜¶æ®µå’Œç®¡ç†æ–¹æ³•çš„å®ç°
- **å®ç°ä¸»çº¿è¯†åˆ«å¼•æ“**ï¼šæŒæ¡å¦‚ä½•åŸºäºä¸‰å±‚åˆ†ææ¡†æ¶å®ç°å®Œæ•´çš„ä¸»çº¿è¯†åˆ«å¼•æ“

## ğŸ“š æ ¸å¿ƒæ¦‚å¿µ

### æ¨¡å—å®šä½

- **å·¥ä½œæµä½ç½®**ï¼šæ­¥éª¤3 - ğŸ”¥ æŠ•èµ„ä¸»çº¿
- **æ ¸å¿ƒèŒè´£**ï¼šä¸»çº¿å‘ç°ã€ä¸»çº¿è¯†åˆ«ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **æœåŠ¡å¯¹è±¡**ï¼šä¸»çº¿è¯„åˆ†ã€ä¸»çº¿ç­›é€‰ã€åç»­æ­¥éª¤

### è®¾è®¡ç†å¿µ

ä¸»çº¿è¯†åˆ«å¼•æ“çš„è®¾è®¡ç†å¿µï¼š

1. **å‰ç»æ€§**ï¼šä¸ä»…è¯†åˆ«å½“ä¸‹çƒ­ç‚¹ï¼Œæ›´è¦å…·å¤‡å‰ç»æ€§ï¼Œæå‰å‘ç°æŠ•èµ„æœºä¼š
2. **ä¸‰å±‚åˆ†ææ¡†æ¶**ï¼šå®è§‚å‰ç»â†’ä¸­è§‚éªŒè¯â†’å¾®è§‚ç¡®è®¤ï¼Œç¡®ä¿ä¸»çº¿çš„å‰ç»æ€§å’Œå¯é æ€§
3. **å¤šç»´åº¦ç»¼åˆåˆ¤æ–­**ï¼šæ”¿ç­–+èµ„é‡‘+äº§ä¸šå¤šç»´åº¦ç»¼åˆåˆ¤æ–­ï¼Œé¿å…å•ä¸€ç»´åº¦åå·®
4. **å¯è¿½æº¯æ€§**ï¼šæ‰€æœ‰åˆ†æè¿‡ç¨‹å¯è¿½æº¯ï¼Œæ•°æ®æ¥æºé€æ˜ï¼Œæ¨ç†é“¾å®Œæ•´

<h2 id="section-4-3-1">ğŸŒ 4.3.1 å®è§‚å‰ç»åˆ†æ</h2>

å®è§‚å‰ç»åˆ†æé‡‡ç”¨6-12ä¸ªæœˆçš„æ—¶é—´è§†è§’ï¼Œåˆ†ææ”¿ç­–å‘¨æœŸã€ç»æµå‘¨æœŸã€äº§ä¸šè¶‹åŠ¿ï¼Œè¯†åˆ«é•¿æœŸæŠ•èµ„æœºä¼šã€‚

### åˆ†æç»´åº¦

#### 1. æ”¿ç­–å‘¨æœŸåˆ†æ

åˆ†ææ”¿ç­–å‡ºå°é¢‘ç‡ã€æ”¿ç­–æ”¯æŒåŠ›åº¦ã€æ”¿ç­–æŒç»­æ€§ï¼Œè¯†åˆ«æ”¿ç­–é©±åŠ¨çš„æŠ•èµ„ä¸»çº¿ã€‚

**åˆ†ææ–¹æ³•**ï¼š

<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_analyze_policy_cycle.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def analyze_policy_cycle(self) -> Dict:
    """
    åˆ†ææ”¿ç­–å‘¨æœŸ
    
    Returns:
        {
            "current_phase": "å®½æ¾/ä¸­æ€§/ç´§ç¼©",
            "key_policies": [
                {
                    "name": "æ”¿ç­–åç§°",
                    "sector": "å—ç›Šæ¿å—",
                    "support_level": "æ”¯æŒåŠ›åº¦",
                    "timeline": "æ—¶é—´çº¿"
                }
            ],
            "benefited_sectors": ["å—ç›Šæ¿å—åˆ—è¡¨"],
            "policy_calendar": [
                {
                    "date": "æ—¥æœŸ",
                    "event": "æ”¿ç­–äº‹ä»¶",
                    "impact": "å½±å“ç¨‹åº¦"
                }
            ]
        }
    """
    # 1. è·å–æ”¿ç­–æ•°æ®
    policy_data = self.data_manager.fetch_data("macro_policy")
    
    # 2. åˆ†ææ”¿ç­–å‘¨æœŸé˜¶æ®µ
    current_phase = self._determine_policy_cycle(policy_data)
    
    # 3. æå–é‡ç‚¹æ”¿ç­–æ–¹å‘
    key_policies = self._extract_key_policies(policy_data)
    
    # 4. è¯†åˆ«å—ç›Šæ¿å—
    benefited_sectors = self._get_policy_benefited_sectors(policy_data)
    
    # 5. æ„å»ºæ”¿ç­–æ—¥å†
    policy_calendar = self._build_policy_calendar(policy_data)
    
    return {
        "current_phase": current_phase,
        "key_policies": key_policies,
        "benefited_sectors": benefited_sectors,<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_analyze_economic_cycle.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def analyze_economic_cycle(self) -> Dict:
    """
    åˆ†æç»æµå‘¨æœŸ
    
    Returns:
        {
            "current_phase": "å¤è‹/è¿‡çƒ­/æ»èƒ€/è¡°é€€",
            "leading_indicators": {
                "gdp_growth": GDPå¢é€Ÿ,
                "cpi": CPI,
                "pmi": PMI,
                "monetary_policy": "è´§å¸æ”¿ç­–"
            },
            "sector_rotation": {
                "recommended_sectors": ["æ¨èæ¿å—"],
                "avoid_sectors": ["å›é¿æ¿å—"]
            }
        }
    """
    # 1. è·å–ç»æµæ•°æ®
    economic_data = self.data_manager.fetch_data("macro_economic")
    
    # 2. åˆ¤æ–­ç»æµå‘¨æœŸé˜¶æ®µ
    current_phase = self._determine_economic_cycle(economic_data)
    
    # 3. æå–é¢†å…ˆæŒ‡æ ‡
    leading_indicators = self._extract_leading_indicators(economic_data)
    
    # 4. ç”Ÿæˆæ¿å—è½®åŠ¨å»ºè®®
    sector_rotation = self._generate_sector_rotation(current_phase)
    
    return {
        "current_phase": current_phase,
        "leading_indicators": leading_indicators,
        "sector_rotation": sector_rotation
    }
```
-->_sector_rotation(current_phase)
    
    return {
        "current_phase": current_phase,
        "leading_indicators": leading_indicators,
      <CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_analyze_industry_trends.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def analyze_industry_trends(self) -> List[Dict]:
    """
    åˆ†æå…¨çƒäº§ä¸šè¶‹åŠ¿
    
    Returns:
        [
            {
                "trend_name": "è¶‹åŠ¿åç§°",
                "maturity": "æˆç†Ÿåº¦ï¼ˆearly/mid/lateï¼‰",
                "local_opportunities": [
                    {
                        "sector": "æ¿å—",
                        "stocks": ["è‚¡ç¥¨åˆ—è¡¨"],
                        "investment_logic": "æŠ•èµ„é€»è¾‘"
                    }
                ],
                "global_trend": "å…¨çƒè¶‹åŠ¿æè¿°"
            }
        ]
    """
    # 1. è·å–äº§ä¸šè¶‹åŠ¿æ•°æ®
    trend_data = self.data_manager.fetch_data("industry_trends")
    
    # 2. åˆ†æå…¨çƒäº§ä¸šè¶‹åŠ¿
    global_trends = self._analyze_global_trends(trend_data)
    
    # 3. è¯†åˆ«æœ¬åœ°å¸‚åœºæœºä¼š
    local_opportunities = self._identify_local_opportunities(global_trends)
    
    return local_opportunities
```
-->      ],
                "global_trend": "å…¨çƒè¶‹åŠ¿æè¿°"
            }
<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_analyze_sector_prosperity.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def analyze_sector_prosperity(self, sector: str) -> Dict:
    """
    åˆ†æè¡Œä¸šæ™¯æ°”åº¦
    
    Args:
        sector: è¡Œä¸šåç§°
    
    Returns:
        {
            "prosperity_index": æ™¯æ°”æŒ‡æ•°ï¼ˆ0-100ï¼‰,
            "trend": "ä¸Šå‡/ä¸‹é™/å¹³ç¨³",
            "key_indicators": {
                "revenue_growth": è¥æ”¶å¢é•¿,
                "profit_growth": åˆ©æ¶¦å¢é•¿,
                "order_backlog": è®¢å•ç§¯å‹,
                "capacity_utilization": äº§èƒ½åˆ©ç”¨ç‡
            }
        }
    """
    # 1. è·å–è¡Œä¸šæ•°æ®
    sector_data = self.data_manager.fetch_data("industry_performance", sector=sector)
    
    # 2. è®¡ç®—æ™¯æ°”æŒ‡æ•°
    prosperity_index = self._calculate_prosperity_index(sector_data)
    
    # 3. åˆ¤æ–­è¶‹åŠ¿æ–¹å‘
    trend = self._determine_trend(sector_data)
    
    # 4. æå–å…³é”®æŒ‡æ ‡
    key_indicators = self._extract_key_indicators(sector_data)
    
    return {
        "prosperity_index": prosperity_index,
        "trend": trend,
        "key_indicators": key_indicators
    }
```
-->rder_backlog": è®¢å•ç§¯å‹,
                "capacity_utilization": äº§èƒ½åˆ©ç”¨ç‡
            }
        }
    """
    # 1. è·å–è¡Œä¸šæ•°æ®
    sector<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_analyze_institutional_flow.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def analyze_institutional_flow(self) -> Dict:
    """
    åˆ†ææœºæ„èµ„é‡‘æµå‘
    
    Returns:
        {
            "net_inflow_sectors": [
                {
                    "sector": "æ¿å—",
                    "net_inflow": å‡€æµå…¥é‡‘é¢ï¼ˆäº¿å…ƒï¼‰,
                    "inflow_trend": "æµå…¥è¶‹åŠ¿"
                }
            ],
            "net_outflow_sectors": [
                {
                    "sector": "æ¿å—",
                    "net_outflow": å‡€æµå‡ºé‡‘é¢ï¼ˆäº¿å…ƒï¼‰,
                    "outflow_trend": "æµå‡ºè¶‹åŠ¿"
                }
            ],
            "institution_positions": {
                "sector": {
                    "position_change": æŒä»“å˜åŒ–,
                    "position_trend": "æŒä»“è¶‹åŠ¿"
                }
            }
        }
    """
    # 1. è·å–æ¿å—èµ„é‡‘æµå‘
    flow_data = self.data_manager.fetch_data("industry_flow")
    
    # 2. è·å–åŒ—å‘èµ„é‡‘åå¥½
    northbound_data = self.data_manager.fetch_data("industry_northbound")
    
    # 3. è·å–ä¸¤èæ•°æ®
    margin_data = self.data_manager.fetch_data("industry_margin")
    
    # 4. ç»¼åˆåˆ†æèµ„é‡‘æµå‘
    capital_consensus = self._get_capital_consensus(
        flow_data, northbound_data, margin_data
    )
    
    return capital_consensus
```
--> "sector": "æ¿å—",
                    "net_outflow": å‡€æµå‡ºé‡‘é¢ï¼ˆäº¿å…ƒï¼‰,
                    "outflow_<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_get_catalyst_calendar.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def get_catalyst_calendar(self, days: int = 90) -> List[Catalyst]:
    """
    è·å–å‚¬åŒ–å‰‚æ—¥å†
    
    Args:
        days: æœªæ¥å¤©æ•°ï¼Œé»˜è®¤90å¤©
    
    Returns:
        [
            {
                "date": "æ—¥æœŸ",
                "type": "æ”¿ç­–/ä¸šç»©/äº‹ä»¶/æŠ€æœ¯",
                "sector": "ç›¸å…³æ¿å—",
                "description": "äº‹ä»¶æè¿°",
                "impact": "å½±å“ç¨‹åº¦ï¼ˆhigh/medium/lowï¼‰"
            }
        ]
    """
    # 1. è·å–æ”¿ç­–æ—¥å†
    policy_calendar = self._get_policy_calendar(days)
    
    # 2. è·å–ä¸šç»©å‘å¸ƒæ—¥å†
    earnings_calendar = self._get_earnings_calendar(days)
    
    # 3. è·å–äº‹ä»¶é©±åŠ¨æ—¥å†
    event_calendar = self._get_event_calendar(days)
    
    # 4. åˆå¹¶å¹¶æ’åº
    catalysts = self._merge_and_sort_catalysts(
        policy_calendar, earnings_calendar, event_calendar
    )
   <CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_analyze_sector_technicals.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def analyze_sector_technicals(self, sector: str) -> Dict:
    """
    åˆ†ææ¿å—æŠ€æœ¯å½¢æ€
    
    Args:
        sector: æ¿å—åç§°
    
    Returns:
        {
            "pattern": "çªç ´/è“„åŠ¿/è°ƒæ•´",
            "strength": å¼ºåº¦ï¼ˆ0-1ï¼‰,
            "support_resistance": {
                "support": æ”¯æ’‘ä½,
                "resistance": é˜»åŠ›ä½
            },
            "indicators": {
                "ma_trend": "å‡çº¿è¶‹åŠ¿",
                "volume_trend": "é‡èƒ½è¶‹åŠ¿",
                "rsi": RSIå€¼,
                "macd": MACDçŠ¶æ€
            }
        }
    """
    # 1. è·å–æ¿å—æŒ‡æ•°æ•°æ®
    index_data = self.data_manager.fetch_data("sector_index", sector=sector)
    
    # 2. åˆ†ææŠ€æœ¯å½¢æ€
    pattern = self._analyze_pattern(index_data)
    
    # 3. è®¡ç®—è¶‹åŠ¿å¼ºåº¦
    strength = self._calculate_strength(index_data)
    
    # 4. è¯†åˆ«æ”¯æ’‘é˜»åŠ›ä½
    support_resistance = self._identify_support_resistance(index_data)
    
    # 5. è®¡ç®—æŠ€æœ¯æŒ‡æ ‡
    indicators = self._calculate_indicators(index_data)
    
    return {
        "pattern": <CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_analyze_leader_stocks.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def analyze_leader_stocks(self, sector: str) -> List[Dict]:
    """
    åˆ†æé¾™å¤´è‚¡è¡¨ç°
    
    Args:
        sector: æ¿å—åç§°
    
    Returns:
        [
            {
                "symbol": "è‚¡ç¥¨ä»£ç ",
                "name": "è‚¡ç¥¨åç§°",
                "role": "é¢†æ¶¨/è·Ÿæ¶¨/æ»æ¶¨",
                "score": é¾™å¤´å¾—åˆ†ï¼ˆ0-100ï¼‰,
                "performance": {
                    "return": æ”¶ç›Šç‡,
                    "volume": æˆäº¤é‡å˜åŒ–,
                    "technical": "æŠ€æœ¯å½¢æ€"
                }
            }
        ]
    """
    # 1. è·å–æ¿å—æˆåˆ†è‚¡
    stocks = self.data_manager.fetch_data("sector_stocks", sector=sector)
    
    # 2. åˆ†æé¾™å¤´è‚¡è¡¨ç°
    leaders = []
    for stock in stocks:
        stock_data = self.data_manager.fetch_data("stock_data", symbol=stock)
        leader_score = self._calculate_leader_score(stock_data)
        role = self._determine_role(stock_data)
        
        leaders.append({
            "symbol": stock,
            "name": stock_data["name"],
            "role": role,
            "score": leader_score,
            "performance": {
                "return": stock_data["return"],
                "volume": stock_data["volume_change"],
                "technical": stock_data["technical_pattern"<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_analyze_market_sentiment.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def analyze_market_sentiment(self) -> Dict:
    """
    åˆ†æå¸‚åœºæƒ…ç»ª
    
    Returns:
        {
            "sentiment_index": æƒ…ç»ªæŒ‡æ•°ï¼ˆ0-100ï¼‰,
            "fear_greed": "ææƒ§/è´ªå©ª",
            "indicators": {
                "limit_up_count": æ¶¨åœè‚¡æ•°é‡,
                "limit_down_count": è·Œåœè‚¡æ•°é‡,
                "turnover_rate": æ¢æ‰‹ç‡,
                "volatility": æ³¢åŠ¨ç‡
            }
        }
    """
    # 1. è·å–å¸‚åœºæƒ…ç»ªæ•°æ®
    sentiment_data = self.data_manager.fetch_data("market_sentiment")
    
    # 2. è®¡ç®—æƒ…ç»ªæŒ‡æ•°
    sentiment_index = self._calculate_sentiment_index(sentiment_data)
    
    # 3. åˆ¤æ–­ææƒ§/è´ªå©ª
    fear_greed = self._determine_fear_greed(sentiment_index)
    
    # 4. æå–æƒ…ç»ªæŒ‡æ ‡
    indicators = self._extract_sentiment_indicators(sentiment_data)
    
    return {
        "sentiment_index": senti<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_discover_mainlines.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
from core.base_mainline import BaseMainlineEngine, Mainline, MainlineStage
from typing import List, Dict, Any

class AShareMainlineEngine(BaseMainlineEngine):
    """Aè‚¡ä¸»çº¿è¯†åˆ«å¼•æ“å®ç°"""
    
    def discover_mainlines(
        self, 
        include_emerging: bool = True, 
        min_score: float = 60
    ) -> List[Mainline]:
        """
        å‘ç°æŠ•èµ„ä¸»çº¿
        
        Args:
            include_emerging: æ˜¯å¦åŒ…å«å¯åŠ¨æœŸä¸»çº¿
            min_score: æœ€ä½å¾—åˆ†é˜ˆå€¼
        
        Returns:
            ä¸»çº¿åˆ—è¡¨
        """
        # Step 1: å®è§‚å‰ç»åˆ†æ
        macro_data = self._analyze_macro()
        
        # Step 2: ä¸­è§‚éªŒè¯åˆ†æ
        capital_data = self._analyze_capital()
        industry_data = self._analyze_industry()
        catalyst_calendar = self.get_catalyst_calendar(days=90)
        
        # Step 3: å¾®è§‚ç¡®è®¤åˆ†æ
        technical_data = self._analyze_technical()
        sentiment_data = self.analyze_market_sentiment()
        
        # Step 4: ç»¼åˆç”Ÿæˆä¸»çº¿
        mainlines = self._generate_mainlines(
            macro_data=macro_data,
            capital_data=capital_data,
            industry_data=industry_data,
            technical_data=technical_data,
            sentiment_data=sentiment_data,
            catalyst_calendar=catalyst_calendar
        )
        
        # Step 5: è¿‡æ»¤ä¸»çº¿
        if not include_emerging:
            mainlines = [
                m for m in mainlines 
                if m.stage != MainlineStage.EMERGING
            ]
        
        mainlines = [
            m for<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_å®Œæ•´åˆ†ææµç¨‹ç¤ºä¾‹.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
# åˆå§‹åŒ–å¼•æ“
engine = AShareMainlineEngine()

# è¿è¡Œå®Œæ•´åˆ†æ
result = engine.run_full_analysis()

# æŸ¥çœ‹å‘ç°çš„ä¸»çº¿
for mainline in result["mainlines"]:
    print(f"ä¸»çº¿: {mainline.name}")
    print(f"è¯„åˆ†: {mainline.score.total_score:.1f}")
    print(f"é˜¶æ®µ: {mainline.stage.value}")
    print(f"ç±»å‹: {mainline.type.value}")
    print(f"ç›¸å…³è¡Œä¸š: {mainline.industries}")
    print("-" * 60)

# æŸ¥çœ‹æ•°æ®æº¯æº
for trace in result["data_traces"]:
    print(f"æ•°æ®æº: {trace.source_name} ({trace.provider})")

# æŸ¥çœ‹åˆ†ææ­¥éª¤
for step in result["analysis_steps"]:
    print(f"æ­¥éª¤: {step.step_name} - {step.method} ({step.duration}ms)")
```
--> 
        # 1. ä»å®è§‚å‰ç»ä¸­æå–ä¸»çº¿æ–¹å‘
        policy_mainlines = self._extract_policy_mainlines(macro_data)
        industry_mainlines = self._extract_industry_mainlines(industry_data)
        
        # 2. ç”¨ä¸­è§‚éªŒè¯è¿‡æ»¤ä¸»çº¿
        validated_mainlines = self._validate_mainlines(
            policy_mainlines + industry_mainlines,
            capital_data,
            catalyst_calendar
        )
        
        # 3. ç”¨å¾®è§‚ç¡®è®¤ä¼˜åŒ–ä¸»çº¿
        confirmed_mainlines = self._confirm_mainlines(
            validated_mainlines,
            technical_data,
            sentiment_data
        )
        
        # 4. ä¸ºä¸»çº¿è¯„åˆ†
        for mainline in confirmed_mainlines:
            score = self.scoring_model.score_mainline(mainline)
            mainline.score = score
            mainlines.append(mainline)
        
        return mainlines
```
-->           sentiment_data=sentiment_data,
            catalyst_calendar=catalyst_calendar
        )
        
        # Step 5: è¿‡æ»¤ä¸»çº¿
        if not include_emerging:
            mainlines = [
                m for m in mainlines 
                if m.stage != MainlineStage.EMERGING
            ]
        
        mainlines = [
            m for m in mainlines 
            if m.score.total_score >= min_score
        ]
        
        # Step 6: æ’åº
        mainlines.sort(
            key=lambda m: m.score.total_score, 
            reverse=True
        )
        
        return mainlines
    
    def _generate_mainlines(
        self,
        macro_data: Dict,
        capital_data: Dict,
        industry_data: Dict,
        technical_data: Dict,
        sentiment_data: Dict,
        catalyst_calendar: List
    ) -> List[Mainline]:
        """
        ç»¼åˆç”Ÿæˆä¸»çº¿
        
  <CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_MainlineStage.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
from enum import Enum

class MainlineStage(Enum):
    """ä¸»çº¿ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ"""
    
    EMERGING = "emerging"    # å¯åŠ¨æœŸ - æ”¿ç­–ä¿¡å·å‡ºç°ï¼Œæœºæ„å¼€å§‹å¸ƒå±€
    GROWING = "growing"      # æˆé•¿æœŸ - èµ„é‡‘æŒç»­æµå…¥ï¼Œä¸šç»©å¼€å§‹å…‘ç°
    MATURE = "mature"        # æˆç†ŸæœŸ - å…±è¯†å½¢æˆï¼Œä¼°å€¼è¾ƒé«˜
    DECLINING = "declining"  # è¡°é€€æœŸ - èµ„é‡‘æ’¤ç¦»ï¼Œé¢„æœŸä¸‹ä¿®
```
-->lidated_mainlines = self._validate_mainlines(
            policy_mainlines + industry_mainlines,
            cap<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_update_mainline_lifecycle.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def update_mainline_lifecycle(mainline: Mainline) -> Mainline:
    """
    æ›´æ–°ä¸»çº¿ç”Ÿå‘½å‘¨æœŸ
    
    Args:
        mainline: ä¸»çº¿å¯¹è±¡
    
    Returns:
        æ›´æ–°åçš„ä¸»çº¿å¯¹è±¡
    """
    # 1. è®¡ç®—è¯„åˆ†è¶‹åŠ¿
    score_trend = mainline.score.get_trend()  # è¿‘20æ—¥è¯„åˆ†å˜åŒ–ç‡
    
    # 2. è®¡ç®—å¸‚åœºè¡¨ç°
    market_performance = mainline.get_market_performance()  # è¿‘20æ—¥æ”¶ç›Šç‡
    
    # 3. è®¡ç®—èµ„é‡‘æµå‘è¶‹åŠ¿
    capital_trend = mainline.get_capital_trend()  # è¿‘20æ—¥èµ„é‡‘æµå…¥è¶‹åŠ¿
    
    # 4. åˆ¤æ–­ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ
    if score_trend > 0.1 and market_performance > 0.05 and capital_trend > 0:
        # è¯„åˆ†ä¸Šå‡ã€å¸‚åœºè¡¨ç°è‰¯å¥½ã€èµ„é‡‘æµå…¥ï¼Œè¿›å…¥æˆé•¿æœŸ
        if mainline.stage == MainlineStage.EMERGING:
            mainline.stage = MainlineStage.GROWING
    elif score_trend < -0.1 or market_performance < -0.05 or capital_trend < -0.1:
        # è¯„åˆ†ä¸‹é™æˆ–å¸‚åœºè¡¨ç°ä¸ä½³æˆ–èµ„é‡‘æµå‡ºï¼Œè¿›å…¥è¡°é€€æœŸ
        if mainline.stage in [MainlineStage.GROWING, MainlineStage.MATURE]:
            mainline.stage = MainlineStage.DECLINING
    elif mainline.stage == MainlineStage.GROWING and score_trend < 0.0<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_monitor_mainline_lifecycle.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def monitor_mainline_lifecycle(mainlines: List[Mainline]) -> Dict:
    """
    ç›‘æ§ä¸»çº¿ç”Ÿå‘½å‘¨æœŸ
    
    Args:
        mainlines: ä¸»çº¿åˆ—è¡¨
    
    Returns:
        ç”Ÿå‘½å‘¨æœŸç»Ÿè®¡
    """
    stage_count = {
        MainlineStage.EMERGING: 0,
        MainlineStage.GROWING: 0,
        MainlineStage.MATURE: 0,
        MainlineStage.DECLINING: 0
    }
    
    for mainline in mainlines:
        stage_count[mainline.stage] += 1
    
    return {
        "total": len(mainlines),
        "by_stage": {
            stage.value: count 
            for stage, count in stage_count.items()
        },
        "recommendations": {
            "focus": stage_count[MainlineStage.GROWING],  # é‡ç‚¹å…³æ³¨æˆé•¿æœŸ
            "monitor": stage_count[MainlineStage.MATURE],  # ç›‘æ§æˆç†Ÿ<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_MainlineType.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
from enum import Enum

class MainlineType(Enum):
    """ä¸»çº¿ç±»å‹"""
    
    POLICY = "policy"        # æ”¿ç­–é©±åŠ¨å‹
    INDUSTRY = "industry"    # äº§ä¸šè¶‹åŠ¿å‹
    EVENT = "even<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_identify_policy_mainline.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def identify_policy_mainline(policy_data: Dict) -> bool:
    """è¯†åˆ«æ”¿ç­–é©±åŠ¨å‹ä¸»çº¿"""
    # 1. æ”¿ç­–æåŠé¢‘ç‡
    mention_frequency = policy_data.get("mention_frequency", 0)
    
    # 2. æ”¿ç­–æ”¯æŒåŠ›åº¦
    support_level = policy_data.get("support_level", 0)
    
    # 3. æ”¿ç­–è½åœ°è¿›åº¦
    implementation_progress = policy_data.get("implementation_progress", 0)
    
    # åˆ¤æ–­æ ‡å‡†
    if mention_frequency > 5 and support_level ><CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_identify_industry_mainline.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def identify_industry_mainline(industry_data: Dict) -> bool:
    """è¯†åˆ«äº§ä¸šè¶‹åŠ¿å‹ä¸»çº¿"""
    # 1. äº§ä¸šå‡çº§è¶‹åŠ¿
    upgrade_trend = industry_data.get("upgrade_trend", 0)
    
    # 2. äº§ä¸šèåˆç¨‹åº¦
    integration_level = industry_data.get("integration_level", 0)
    
    # 3. æ–°å…´äº§ä¸šå æ¯”
    new_industry_ratio = industry_data.get("new_industry_ratio", 0)
    
    # åˆ¤æ–­æ ‡å‡†
    if upgrade_trend > 0.6 or integration_level ><CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_identify_event_mainline.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def identify_event_mainline(event_data: Dict) -> bool:
    """è¯†åˆ«äº‹ä»¶é©±åŠ¨å‹ä¸»çº¿"""
    # 1. äº‹ä»¶å½±å“ç¨‹åº¦
    impact_level = event_data.get("impact_level", 0)
    
    # 2. äº‹ä»¶å‚¬åŒ–å¼ºåº¦
    catalyst_strength = event_data.get("catalyst_strength", 0)
    
    # 3. äº‹ä»¶æŒç»­æ€§
    duration = event_data.get("duration", 0)
    
    # åˆ¤æ–­æ ‡å‡†
    if impact_level > 0.7 and cata<CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_identify_cycle_mainline.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def identify_cycle_mainline(cycle_data: Dict) -> bool:
    """è¯†åˆ«å‘¨æœŸè½®åŠ¨å‹ä¸»çº¿"""
    # 1. ç»æµå‘¨æœŸä½ç½®
    economic_cycle_position = cycle_data.get("economic_cycle_position", 0)
    
    # 2. è¡Œä¸šå‘¨æœŸä½ç½®
    industry_cycle_position = cycle_data.get("industry_cycle_position", 0)
    
    # 3. é£æ ¼è½®åŠ¨å¼ºåº¦
    style_rotation_strength = cycle_data.get("style_rotation_strength", 0)
    
    # åˆ¤æ–­æ ‡å‡†
    if (economic_cycle_position > 0.6 or 
        industry_cycle_position > 0.6 or 
   <CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_identify_theme_mainline.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def identify_theme_mainline(theme_data: Dict) -> bool:
    """è¯†åˆ«ä¸»é¢˜æ¦‚å¿µå‹ä¸»çº¿"""
    # 1. ä¸»é¢˜çƒ­åº¦
    theme_heat = theme_data.get("theme_heat", 0)
    
    # 2. æ¦‚å¿µç‚’ä½œå¼ºåº¦
    concept_speculation = theme_data.get("concept_speculation", 0)
    
    # 3. çƒ­ç‚¹è½®åŠ¨é€Ÿåº¦
    hot_rotation_speed = theme_data.get("hot_rotation_speed", 0)
 <CodeFromFile 
  filePath="code_library/004_Chapter4_Mainline_Identification/4.3/code_4_3_classify_mainline_type.py"
  language="python"
  showDesignPrinciples="true"
/>

<!-- åŸå§‹ä»£ç ï¼ˆä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰ï¼š
```python
def classify_mainline_type(mainline: Mainline) -> MainlineType:
    """
    åˆ†ç±»ä¸»çº¿ç±»å‹
    
    Args:
        mainline: ä¸»çº¿å¯¹è±¡
    
    Returns:
        ä¸»çº¿ç±»å‹
    """
    # 1. æ£€æŸ¥æ”¿ç­–é©±åŠ¨ç‰¹å¾
    if identify_policy_mainline(mainline.policy_data):
        return MainlineType.POLICY
    
    # 2. æ£€æŸ¥äº§ä¸šè¶‹åŠ¿ç‰¹å¾
    if identify_industry_mainline(mainline.industry_data):
        return MainlineType.INDUSTRY
    
    # 3. æ£€æŸ¥äº‹ä»¶é©±åŠ¨ç‰¹å¾
    if identify_event_mainline(mainline.event_data):
        return MainlineType.EVENT
    
    # 4. æ£€æŸ¥å‘¨æœŸè½®åŠ¨ç‰¹å¾
    if identify_cycle_mainline(mainline.cycle_data):
        return MainlineType.CYCLE
    
    # 5. æ£€æŸ¥ä¸»é¢˜æ¦‚å¿µç‰¹å¾
    if identify_theme_mainline(mainline.theme_data):
        return MainlineType.THEME
    
    # é»˜è®¤è¿”å›äº§ä¸šè¶‹åŠ¿å‹
    return MainlineType.INDUSTRY
```
--> äº‹ä»¶é©±åŠ¨å‹
    CYCLE = "cycle"          # å‘¨æœŸè½®åŠ¨å‹
    THEME = "theme"          # ä¸»é¢˜æ¦‚å¿µå‹
```

### ç±»å‹ç‰¹å¾

#### 1. æ”¿ç­–é©±åŠ¨å‹ï¼ˆPolicyï¼‰

**ç‰¹å¾**ï¼š
- æ”¿ç­–æ”¯æŒåŠ›åº¦å¼º
- æ”¿ç­–è½åœ°è¿›åº¦å¿«
- æ”¿ç­–æŒç»­æ€§é«˜

**è¯†åˆ«æ–¹æ³•**ï¼š
```python
def identify_policy_mainline(policy_data: Dict) -> bool:
    """è¯†åˆ«æ”¿ç­–é©±åŠ¨å‹ä¸»çº¿"""
    # 1. æ”¿ç­–æåŠé¢‘ç‡
    mention_frequency = policy_data.get("mention_frequency", 0)
    
    # 2. æ”¿ç­–æ”¯æŒåŠ›åº¦
    support_level = policy_data.get("support_level", 0)
    
    # 3. æ”¿ç­–è½åœ°è¿›åº¦
    implementation_progress = policy_data.get("implementation_progress", 0)
    
    # åˆ¤æ–­æ ‡å‡†
    if mention_frequency > 5 and support_level > 0.7 and implementation_progress > 0.5:
        return True
    
    return False
```

**å…¸å‹ä¸»çº¿**ï¼š
- æ–°åŸºå»º
- ç¢³ä¸­å’Œ
- æ•°å­—ç»æµ

#### 2. äº§ä¸šè¶‹åŠ¿å‹ï¼ˆIndustryï¼‰

**ç‰¹å¾**ï¼š
- äº§ä¸šå‡çº§è¶‹åŠ¿æ˜æ˜¾
- äº§ä¸šèåˆåŠ é€Ÿ
- æ–°å…´äº§ä¸šå¿«é€Ÿå‘å±•

**è¯†åˆ«æ–¹æ³•**ï¼š
```python
def identify_industry_mainline(industry_data: Dict) -> bool:
    """è¯†åˆ«äº§ä¸šè¶‹åŠ¿å‹ä¸»çº¿"""
    # 1. äº§ä¸šå‡çº§è¶‹åŠ¿
    upgrade_trend = industry_data.get("upgrade_trend", 0)
    
    # 2. äº§ä¸šèåˆç¨‹åº¦
    integration_level = industry_data.get("integration_level", 0)
    
    # 3. æ–°å…´äº§ä¸šå æ¯”
    new_industry_ratio = industry_data.get("new_industry_ratio", 0)
    
    # åˆ¤æ–­æ ‡å‡†
    if upgrade_trend > 0.6 or integration_level > 0.5 or new_industry_ratio > 0.3:
        return True
    
    return False
```

**å…¸å‹ä¸»çº¿**ï¼š
- AIç®—åŠ›åŸºç¡€è®¾æ–½
- æ–°èƒ½æºäº§ä¸šé“¾
- ç”Ÿç‰©åŒ»è¯åˆ›æ–°

#### 3. äº‹ä»¶é©±åŠ¨å‹ï¼ˆEventï¼‰

**ç‰¹å¾**ï¼š
- çªå‘äº‹ä»¶å½±å“å¤§
- é‡å¤§äº‹ä»¶å‚¬åŒ–å¼º
- å‘¨æœŸæ€§äº‹ä»¶è§„å¾‹æ˜æ˜¾

**è¯†åˆ«æ–¹æ³•**ï¼š
```python
def identify_event_mainline(event_data: Dict) -> bool:
    """è¯†åˆ«äº‹ä»¶é©±åŠ¨å‹ä¸»çº¿"""
    # 1. äº‹ä»¶å½±å“ç¨‹åº¦
    impact_level = event_data.get("impact_level", 0)
    
    # 2. äº‹ä»¶å‚¬åŒ–å¼ºåº¦
    catalyst_strength = event_data.get("catalyst_strength", 0)
    
    # 3. äº‹ä»¶æŒç»­æ€§
    duration = event_data.get("duration", 0)
    
    # åˆ¤æ–­æ ‡å‡†
    if impact_level > 0.7 and catalyst_strength > 0.6 and duration > 7:
        return True
    
    return False
```

**å…¸å‹ä¸»çº¿**ï¼š
- é‡å¤§æŠ€æœ¯çªç ´
- é‡å¤§æ”¿ç­–å‘å¸ƒ
- é‡å¤§ä¸šç»©å‘å¸ƒ

#### 4. å‘¨æœŸè½®åŠ¨å‹ï¼ˆCycleï¼‰

**ç‰¹å¾**ï¼š
- ç»æµå‘¨æœŸé©±åŠ¨
- è¡Œä¸šå‘¨æœŸæ˜æ˜¾
- é£æ ¼è½®åŠ¨è§„å¾‹

**è¯†åˆ«æ–¹æ³•**ï¼š
```python
def identify_cycle_mainline(cycle_data: Dict) -> bool:
    """è¯†åˆ«å‘¨æœŸè½®åŠ¨å‹ä¸»çº¿"""
    # 1. ç»æµå‘¨æœŸä½ç½®
    economic_cycle_position = cycle_data.get("economic_cycle_position", 0)
    
    # 2. è¡Œä¸šå‘¨æœŸä½ç½®
    industry_cycle_position = cycle_data.get("industry_cycle_position", 0)
    
    # 3. é£æ ¼è½®åŠ¨å¼ºåº¦
    style_rotation_strength = cycle_data.get("style_rotation_strength", 0)
    
    # åˆ¤æ–­æ ‡å‡†
    if (economic_cycle_position > 0.6 or 
        industry_cycle_position > 0.6 or 
        style_rotation_strength > 0.5):
        return True
    
    return False
```

**å…¸å‹ä¸»çº¿**ï¼š
- ç»æµå¤è‹å‘¨æœŸ
- è¡Œä¸šæ™¯æ°”å‘¨æœŸ
- é£æ ¼è½®åŠ¨å‘¨æœŸ

#### 5. ä¸»é¢˜æ¦‚å¿µå‹ï¼ˆThemeï¼‰

**ç‰¹å¾**ï¼š
- ä¸»é¢˜æŠ•èµ„çƒ­åº¦é«˜
- æ¦‚å¿µç‚’ä½œæ˜æ˜¾
- çƒ­ç‚¹ä¸»é¢˜è½®åŠ¨

**è¯†åˆ«æ–¹æ³•**ï¼š
```python
def identify_theme_mainline(theme_data: Dict) -> bool:
    """è¯†åˆ«ä¸»é¢˜æ¦‚å¿µå‹ä¸»çº¿"""
    # 1. ä¸»é¢˜çƒ­åº¦
    theme_heat = theme_data.get("theme_heat", 0)
    
    # 2. æ¦‚å¿µç‚’ä½œå¼ºåº¦
    concept_speculation = theme_data.get("concept_speculation", 0)
    
    # 3. çƒ­ç‚¹è½®åŠ¨é€Ÿåº¦
    hot_rotation_speed = theme_data.get("hot_rotation_speed", 0)
    
    # åˆ¤æ–­æ ‡å‡†
    if theme_heat > 0.7 or concept_speculation > 0.6 or hot_rotation_speed > 0.5:
        return True
    
    return False
```

**å…¸å‹ä¸»çº¿**ï¼š
- å…ƒå®‡å®™
- ChatGPT
- äººå½¢æœºå™¨äºº

### ç±»å‹è¯†åˆ«æµç¨‹

```python
def classify_mainline_type(mainline: Mainline) -> MainlineType:
    """
    åˆ†ç±»ä¸»çº¿ç±»å‹
    
    Args:
        mainline: ä¸»çº¿å¯¹è±¡
    
    Returns:
        ä¸»çº¿ç±»å‹
    """
    # 1. æ£€æŸ¥æ”¿ç­–é©±åŠ¨ç‰¹å¾
    if identify_policy_mainline(mainline.policy_data):
        return MainlineType.POLICY
    
    # 2. æ£€æŸ¥äº§ä¸šè¶‹åŠ¿ç‰¹å¾
    if identify_industry_mainline(mainline.industry_data):
        return MainlineType.INDUSTRY
    
    # 3. æ£€æŸ¥äº‹ä»¶é©±åŠ¨ç‰¹å¾
    if identify_event_mainline(mainline.event_data):
        return MainlineType.EVENT
    
    # 4. æ£€æŸ¥å‘¨æœŸè½®åŠ¨ç‰¹å¾
    if identify_cycle_mainline(mainline.cycle_data):
        return MainlineType.CYCLE
    
    # 5. æ£€æŸ¥ä¸»é¢˜æ¦‚å¿µç‰¹å¾
    if identify_theme_mainline(mainline.theme_data):
        return MainlineType.THEME
    
    # é»˜è®¤è¿”å›äº§ä¸šè¶‹åŠ¿å‹
    return MainlineType.INDUSTRY
```

## ğŸ”— ç›¸å…³ç« èŠ‚

- **4.1 ä¸»çº¿è¯„åˆ†**ï¼šäº†è§£ä¸»çº¿è¯„åˆ†æ–¹æ³•ï¼Œä¸ºå¼•æ“å‘ç°çš„ä¸»çº¿æä¾›è¯„åˆ†
- **4.2 ä¸»çº¿ç­›é€‰**ï¼šäº†è§£ä¸»çº¿ç­›é€‰æœºåˆ¶ï¼Œå¯¹å¼•æ“å‘ç°çš„ä¸»çº¿è¿›è¡Œç­›é€‰
- **ç¬¬3ç« ï¼šå¸‚åœºåˆ†æ**ï¼šäº†è§£å¸‚åœºåˆ†æç»“æœï¼Œä¸ºå®è§‚å‰ç»æä¾›åŸºç¡€
- **ç¬¬5ç« ï¼šå€™é€‰æ± æ„å»º**ï¼šäº†è§£å¦‚ä½•ä½¿ç”¨è¯†åˆ«çš„ä¸»çº¿æ„å»ºå€™é€‰æ± 
- **ç¬¬10ç« ï¼šå¼€å‘æŒ‡å—**ï¼šäº†è§£ä¸»çº¿è¯†åˆ«å¼•æ“çš„å¼€å‘è§„èŒƒ

## ğŸ’¡ å…³é”®è¦ç‚¹

1. **ä¸‰å±‚åˆ†ææ¡†æ¶**ï¼šå®è§‚å‰ç»â†’ä¸­è§‚éªŒè¯â†’å¾®è§‚ç¡®è®¤ï¼Œç¡®ä¿ä¸»çº¿çš„å‰ç»æ€§å’Œå¯é æ€§
2. **ä¸»çº¿å‘ç°æµç¨‹**ï¼šä»å®è§‚åˆ†æåˆ°ä¸»çº¿ç”Ÿæˆçš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬åˆ†æã€éªŒè¯ã€ç”Ÿæˆã€è¿‡æ»¤ã€æ’åº
3. **ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šä¸»çº¿ç”Ÿå‘½å‘¨æœŸçš„å››ä¸ªé˜¶æ®µï¼ˆå¯åŠ¨æœŸã€æˆé•¿æœŸã€æˆç†ŸæœŸã€è¡°é€€æœŸï¼‰å’Œç®¡ç†æ–¹æ³•
4. **ä¸»çº¿ç±»å‹åˆ†ç±»**ï¼šæ”¯æŒæ”¿ç­–é©±åŠ¨å‹ã€äº§ä¸šè¶‹åŠ¿å‹ã€äº‹ä»¶é©±åŠ¨å‹ã€å‘¨æœŸè½®åŠ¨å‹ã€ä¸»é¢˜æ¦‚å¿µå‹
5. **æ•°æ®å¯è¿½æº¯æ€§**ï¼šæ‰€æœ‰åˆ†æè¿‡ç¨‹å¯è¿½æº¯ï¼Œæ•°æ®æ¥æºé€æ˜ï¼Œæ¨ç†é“¾å®Œæ•´

## ğŸ”® æ€»ç»“ä¸å±•æœ›

<div class="summary-outlook">
  <h3>æœ¬èŠ‚å›é¡¾</h3>
  <p>æœ¬èŠ‚ç³»ç»Ÿä»‹ç»äº†æŠ•èµ„ä¸»çº¿è¯†åˆ«æ¨¡å—çš„ä¸»çº¿è¯†åˆ«å¼•æ“ï¼Œé€šè¿‡ä¸‰å±‚åˆ†ææ¡†æ¶ï¼ˆå®è§‚å‰ç»â†’ä¸­è§‚éªŒè¯â†’å¾®è§‚ç¡®è®¤ï¼‰å‘ç°å’Œè¯†åˆ«æŠ•èµ„ä¸»çº¿ã€‚é€šè¿‡ç†è§£ä¸»çº¿å‘ç°æµç¨‹ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œä¸»çº¿ç±»å‹åˆ†ç±»ï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡å¦‚ä½•æ„å»ºæ™ºèƒ½åŒ–çš„æŠ•èµ„ä¸»çº¿è¯†åˆ«ç³»ç»Ÿã€‚</p>
  
  <h3>ä¸‹èŠ‚é¢„å‘Š</h3>
  <p>æŒæ¡äº†ä¸»çº¿è¯†åˆ«å¼•æ“åï¼Œä¸‹ä¸€èŠ‚å°†ä»‹ç»MCPå·¥å…·é›†æˆï¼ŒåŒ…æ‹¬trquant_mainlineså·¥å…·ã€çŸ¥è¯†åº“æŸ¥è¯¢ç­‰ã€‚é€šè¿‡ç†è§£MCPå·¥å…·åœ¨æŠ•èµ„ä¸»çº¿è¯†åˆ«ä¸­çš„åº”ç”¨ï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡å¦‚ä½•ä½¿ç”¨MCPå·¥å…·æå‡ä¸»çº¿è¯†åˆ«æ•ˆç‡ã€‚</p>
  
  <a href="/ashare-book6/004_Chapter4_Mainline_Identification/4.4_MCP_Tool_Integration_CN" class="next-section">
    ç»§ç»­å­¦ä¹ ï¼š4.4 MCPå·¥å…·é›†æˆ â†’
  </a>
</div>

> **é€‚ç”¨ç‰ˆæœ¬**: v1.0.0+  
> **æœ€åæ›´æ–°**: 2025-12-12
