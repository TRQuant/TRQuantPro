# 韬睿量化平台 - 开发路线图

## 📋 全局规划

### 系统架构

```
┌─────────────────────────────────────────────────────────────────┐
│                        韬睿量化平台                              │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │   A股市场   │  │   美股市场   │  │  加密货币   │  ← 多市场   │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘             │
│         │                │                │                     │
│  ┌──────┴──────────────────────────────────────────┐           │
│  │                   核心模块                        │           │
│  ├─────────────┬─────────────┬─────────────────────┤           │
│  │  主线识别   │  热度评分   │  个股筛选           │           │
│  │  ✅ 完成    │  ⏳ 待开发  │  ⏳ 待开发          │           │
│  ├─────────────┼─────────────┼─────────────────────┤           │
│  │  实时监控   │  回测验证   │  实盘交易           │           │
│  │  ⏳ 待开发  │  ⏳ 待开发  │  ⏳ 待开发          │           │
│  └─────────────┴─────────────┴─────────────────────┘           │
│                                                                 │
│  ┌──────────────────────────────────────────────────┐          │
│  │                   数据层                          │          │
│  ├─────────────┬─────────────┬─────────────────────┤          │
│  │  AKShare    │  JQData     │  Wind/Bloomberg     │          │
│  │  ✅ 完成    │  ⏳ 待开通  │  📋 规划中          │          │
│  └─────────────┴─────────────┴─────────────────────┘          │
│                                                                 │
│  ┌──────────────────────────────────────────────────┐          │
│  │                   交易层                          │          │
│  ├─────────────┬─────────────┬─────────────────────┤          │
│  │  PTrade     │  QMT        │  MiniQuant          │          │
│  │  ⏳ 待开发  │  ⏳ 待开发  │  📋 规划中          │          │
│  └─────────────┴─────────────┴─────────────────────┘          │
└─────────────────────────────────────────────────────────────────┘
```

---

## 🎯 开发阶段

### 阶段1: 主线识别系统 ✅ 已完成

**目标**: 建立完整的A股主线识别工具链

| 模块 | 状态 | 说明 |
|------|------|------|
| 五维度评分引擎 | ✅ | 资金/动量/热度/政策/龙头 |
| 真实数据接入 | ✅ | AKShare + MongoDB缓存 |
| 异步数据抓取 | ✅ | QThread不阻塞UI |
| HTML报告生成 | ✅ | 自动打开+文件管理器显示 |
| Cursor Prompt | ✅ | 生成分析Prompt |
| 报告分类管理 | ✅ | daily/weekly/archive |

**产出**:
- `pro_engine.py` - 评分引擎
- `report_generator.py` - 报告生成器
- `real_data_fetcher.py` - 数据获取器
- `pro_mainline_panel.py` - GUI面板

---

### 阶段2: 热度评分系统 ⏳ 下一步

**目标**: 基于主线识别结果，进行板块热度评分和轮动信号

**复用组件**:
- 数据获取器 (real_data_fetcher.py)
- 报告生成器 (report_generator.py)
- 异步线程模式

**新增开发**:
```
markets/ashare/heatmap/
├── heatmap_engine.py      # 热度评分引擎
├── rotation_signal.py     # 轮动信号生成
├── heatmap_report.py      # 热度报告生成
└── __init__.py

gui/widgets/
└── heatmap_panel.py       # 热度评分面板（增强现有）
```

**功能规划**:
1. 板块热度排名
2. 热度变化趋势
3. 轮动信号生成
4. 历史热度回测

---

### 阶段3: 个股筛选工具 ⏳ 规划中

**目标**: 基于主线和热度，筛选优质个股

**复用组件**:
- 主线识别结果
- 热度评分结果
- 报告生成框架

**新增开发**:
```
markets/ashare/stock_selection/
├── selection_engine.py    # 筛选引擎
├── scoring_model.py       # 个股评分模型
├── portfolio_builder.py   # 组合构建
└── __init__.py

gui/widgets/
└── stock_selection_panel.py  # 个股筛选面板（增强现有）
```

**功能规划**:
1. 多维度个股评分
2. 主线内龙头筛选
3. 组合权重优化
4. 风险评估

---

### 阶段4: 实时监控面板 ⏳ 规划中

**目标**: 实时监控持仓和市场，预警风险

**功能规划**:
1. 持仓实时监控
2. 主线强度变化预警
3. 止损止盈提醒
4. 市场情绪监控

---

### 阶段5: 回测与实盘 ⏳ 规划中

**目标**: 打通回测和实盘交易

**功能规划**:
1. PTrade回测集成
2. QMT回测集成
3. 聚宽回测集成
4. MiniQuant实盘对接

---

## 📊 优先级矩阵

| 模块 | 重要性 | 紧急性 | 复杂度 | 优先级 |
|------|--------|--------|--------|--------|
| 热度评分 | 高 | 高 | 中 | ⭐⭐⭐⭐⭐ |
| 个股筛选 | 高 | 中 | 中 | ⭐⭐⭐⭐ |
| 实时监控 | 中 | 中 | 低 | ⭐⭐⭐ |
| 回测集成 | 高 | 低 | 高 | ⭐⭐⭐ |
| 多市场支持 | 中 | 低 | 高 | ⭐⭐ |

---

## 🔄 开发节奏

### 每个模块的开发流程

```
1. GPT深度研究 (1天)
   └── 生成专业方案文档
   
2. 架构设计 (0.5天)
   └── 确定模块结构和接口
   
3. 核心引擎开发 (1-2天)
   └── 实现核心算法
   
4. GUI面板开发 (1天)
   └── 异步+透明+报告
   
5. 测试与文档 (0.5天)
   └── 功能测试+文档更新
```

### 预计时间表

| 阶段 | 模块 | 预计时间 |
|------|------|----------|
| 阶段2 | 热度评分系统 | 3-4天 |
| 阶段3 | 个股筛选工具 | 3-4天 |
| 阶段4 | 实时监控面板 | 2-3天 |
| 阶段5 | 回测集成 | 5-7天 |

---

## 📝 检查清单

### 每个模块必须包含

- [ ] 方法论文档 (GPT生成)
- [ ] 核心引擎 (xxxxx_engine.py)
- [ ] 数据获取 (复用或新增)
- [ ] GUI面板 (异步+透明)
- [ ] 报告生成 (HTML)
- [ ] Cursor Prompt
- [ ] 单元测试
- [ ] 使用文档

### 代码质量要求

- [ ] 异步操作不阻塞UI
- [ ] 错误优雅处理
- [ ] 日志记录完整
- [ ] 使用统一主题Colors
- [ ] 进度反馈清晰

---

## 🚀 立即行动

### 下一步: 热度评分系统

1. **准备工作**
   - 阅读现有heatmap_tab代码
   - 确定可复用组件
   
2. **GPT研究**
   - 生成热度评分方案文档
   - 确定评分维度和权重
   
3. **开发实施**
   - 创建heatmap_engine.py
   - 增强heatmap_panel
   - 生成热度报告

---

*路线图持续更新，根据实际进展调整*

