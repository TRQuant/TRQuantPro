# TRQuant Cursor AI Prompt 模板

> 在 Cursor 中使用此模板，可以大大提高开发效率和代码质量

---

## 🎯 标准 Prompt 模板

### 模板 1：修复问题

```
我需要修复 [具体问题描述]。

请遵守以下规则：
1. 先分析问题，不要立即修改代码
2. 生成执行计划（Plan），列出要修改的文件和原因
3. 显示 diff 预览，等待我确认后再执行
4. 不要修改不相关的文件
5. 修改后确保编译通过

请先分析问题并给出计划。
```

### 模板 2：添加功能

```
我需要添加 [功能描述]。

请遵守以下规则：
1. 先分析需求，设计实现方案
2. 列出需要新增/修改的文件列表
3. 显示所有变更的 diff 预览
4. 确认后再执行
5. 确保代码符合 TRQuant 架构规范

请先给出设计方案和文件列表。
```

### 模板 3：重构代码

```
我需要重构 [文件/模块]。

请遵守以下规则：
1. 先分析当前代码结构
2. 说明重构的原因和目标
3. 列出所有受影响的文件
4. 显示完整的 diff 预览
5. 确保不破坏现有功能
6. 重构后运行测试确保通过

请先分析并给出重构方案。
```

### 模板 4：调试问题

```
我遇到 [问题描述]，请帮我调试。

请遵守以下规则：
1. 先查看相关代码和日志
2. 分析可能的原因
3. 给出诊断步骤
4. 如果需要修改代码，先显示 diff
5. 提供测试方法验证修复

请先分析问题原因。
```

---

## 🔒 安全 Prompt（防止误改）

```
在修改任何代码前，你必须：

1. 先提问确认我的意图
2. 生成执行计划（Plan），不要立即执行
3. 显示所有变更的 diff 预览
4. 等待我明确确认后再执行
5. 只修改我明确指定的文件
6. 不要重构不相关的代码
7. 保持现有代码风格和架构

现在，请先分析 [任务描述] 并给出计划。
```

---

## 📝 快速指令

### 只读模式
```
只分析代码，不要修改任何文件。
```

### 预览模式
```
显示修改预览，不要执行。
```

### 计划模式
```
只生成执行计划，不要修改代码。
```

### 检查模式
```
检查代码是否有问题，列出发现的问题。
```

---

## 🎨 针对 TRQuant 的专用 Prompt

### 修改工作流面板
```
我需要修改工作流面板的 [具体功能]。

注意：
- 工作流定义在 workflowStepPanel.ts 中
- 8 个步骤的定义不要随意修改
- 消息传递机制要保持一致
- 修改后要测试所有步骤是否正常

请先分析并给出修改计划。
```

### 修改 Python 后端
```
我需要修改 Python 后端的 [具体功能]。

注意：
- 主程序是 TRQuant.py
- 工作流编排器是 WorkflowOrchestrator
- 服务通过 TRQuantClient 桥接
- 不要破坏现有的服务接口

请先分析并给出修改计划。
```

### 添加新的工作流步骤
```
我需要添加新的工作流步骤。

注意：
- 当前是 8 步工作流，需要确认是否替换还是扩展
- 需要同时修改 TypeScript 和 Python 代码
- 需要更新 workflowProvider.ts 和 workflowStepPanel.ts
- 需要更新 WorkflowOrchestrator

请先分析影响范围并给出完整方案。
```

---

## ⚠️ 紧急情况 Prompt

### 恢复备份
```
系统出现问题，请帮我恢复到备份点。

请：
1. 列出可用的备份
2. 恢复 extension 目录
3. 重新编译和安装扩展
4. 验证恢复是否成功
```

### 撤销修改
```
刚才的修改有问题，请撤销。

请：
1. 列出最近的修改
2. 恢复到修改前的状态
3. 重新编译测试
```

---

## 💡 使用建议

1. **大改动前**：使用"计划模式"先看方案
2. **不确定时**：使用"安全 Prompt"防止误改
3. **调试时**：使用"调试 Prompt"系统分析
4. **紧急情况**：使用"紧急 Prompt"快速恢复

---

**提示：** 将这些模板保存为 Cursor 的代码片段或书签，可以快速调用。





















