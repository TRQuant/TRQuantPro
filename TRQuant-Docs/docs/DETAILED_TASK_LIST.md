# 韬睿量化系统 - 详细任务列表

## 目标
**生成有效策略 + 快速回测验证**

---

## 任务分解

### 阶段1：数据层完善 [优先级: 最高]

#### 1.1 本地数据准备
- [ ] 1.1.1 检查MongoDB中是否有历史价格数据
- [ ] 1.1.2 如无数据，从CSV/Parquet加载测试数据
- [ ] 1.1.3 创建数据预热脚本（预加载常用指数成分股）

#### 1.2 数据接口增强
- [ ] 1.2.1 unified_data_provider添加本地CSV数据源
- [ ] 1.2.2 添加模拟数据生成（用于测试）
- [ ] 1.2.3 数据有效性检查

### 阶段2：策略生成完善 [优先级: 高]

#### 2.1 策略模板增强
- [ ] 2.1.1 确保模板生成的代码可直接运行
- [ ] 2.1.2 添加参数验证
- [ ] 2.1.3 添加代码语法检查

#### 2.2 策略-信号转换
- [ ] 2.2.1 创建策略代码 -> 信号矩阵的转换器
- [ ] 2.2.2 支持多种策略类型（动量/价值/趋势）
- [ ] 2.2.3 信号标准化（权重归一化）

### 阶段3：回测引擎完善 [优先级: 高]

#### 3.1 快速回测增强
- [ ] 3.1.1 修复数据加载依赖问题
- [ ] 3.1.2 添加本地数据回测模式
- [ ] 3.1.3 优化向量化计算

#### 3.2 结果输出
- [ ] 3.2.1 生成标准化回测报告
- [ ] 3.2.2 保存回测结果到MongoDB
- [ ] 3.2.3 生成HTML可视化报告

### 阶段4：端到端流程 [优先级: 高]

#### 4.1 完整流程串联
- [ ] 4.1.1 创建一键生成+回测脚本
- [ ] 4.1.2 创建MCP工具接口
- [ ] 4.1.3 添加进度回调

#### 4.2 测试验证
- [ ] 4.2.1 单元测试覆盖
- [ ] 4.2.2 端到端集成测试
- [ ] 4.2.3 性能基准测试（目标<5秒）

---

## 预计时间
- 阶段1: 1-2小时
- 阶段2: 1小时
- 阶段3: 1-2小时
- 阶段4: 1小时

总计: 4-6小时

---

## 开始执行
